Answer for the question is in answer_task folder.

Created new middleware.